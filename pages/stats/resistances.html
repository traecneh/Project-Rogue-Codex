<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Resistances â€” Project Rogue Codex</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<base href="../../"/>
<link href="images/project-rogue-favicon.ico" rel="icon" type="image/x-icon"/>
<link href="images/project-rogue-favicon-32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="images/project-rogue-favicon-64.png" rel="icon" sizes="64x64" type="image/png"/>
<link href="images/project-rogue-favicon-180.png" rel="icon" sizes="180x180" type="image/png"/>
<link href="images/project-rogue-favicon-512.png" rel="icon" sizes="512x512" type="image/png"/>
<link href="css/styles.css" rel="stylesheet"/>
<script defer="" src="js/nav-loader.js"></script>
<style>
  .element-label {
    font-weight: 700;
    letter-spacing: 0.02em;
  }

  #monster-resistances ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 0.15rem;
  }

  #monster-resistances li {
    display: flex;
    align-items: center;
    justify-content: space-between;
    column-gap: 0.5rem;
  }

  #monster-resistances .resist-divider {
    width: 100%;
    margin: 0.25rem 0;
    border: none;
    border-top: 1px solid var(--border-soft);
    opacity: 0.5;
  }
</style>
</head>
<body>
<div class="layout">
<div id="sidebar-root"></div>
<main class="main-content">
<header class="content-header">
<h1 class="content-title">Resistances</h1>
<p class="content-tagline">Elemental damage reductions for players and monsters.</p>
</header>
<article class="content-section" id="player-resistances">
<h2>Players</h2>
<p>
            Player resistances to <strong>Fire, Electric, Poison, Cold, Acid,</strong> and <strong>Disease</strong> are
            flat damage reductions capped at <strong>60%</strong>; excess over cap is ignored for that element.
          </p>
<div class="stat-grid" role="list">
            <section class="stat-card" role="listitem">
              <p class="stat-label">Per Element</p>
              <h3>Independent Caps</h3>
              <p>Each element tracks separately; only the capped element ignores excess.</p>
            </section>
            <section class="stat-card" role="listitem">
              <p class="stat-label">Stacking</p>
              <h3>Additive Sources</h3>
              <p>Sources stack additively unless a perk specifies multiplicative.</p>
            </section>
            <section class="stat-card" role="listitem">
              <p class="stat-label">Order</p>
              <h3>Damage Step</h3>
              <p>Applied after armor, before reactive perks and on-hit effects.</p>
            </section>
          </div>
</article>
<article class="content-section" id="monster-resistances">
<h2>Monster Resistances</h2>
<p>Values above <strong class="resist-value" data-resist-value="1.00">1.00x</strong> mean increased damage taken; below means reduced.</p>
<div class="stat-grid">
            <section class="stat-card">
              <div class="stat-label">Humanoid</div>
              <img
                src="images/werewolves.gif"
                alt="Werewolves resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Poison: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
                <li>Disease: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
<li>Acid: <strong class="resist-value" data-resist-value="1.15">1.15x</strong></li>
<hr class="resist-divider"/><li>Fire: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Electric: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Cold: <strong class="resist-value" data-resist-value="0.90">0.90x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Giant</div>
              <img
                src="images/ettins.gif"
                alt="Ettins resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Electric: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
                <li>Cold: <strong class="resist-value" data-resist-value="1.15">1.15x</strong></li>
<hr class="resist-divider"/><li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Fire: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
<li>Acid: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
<li>Poison: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Animal</div>
              <img
                src="images/large-slimes.gif"
                alt="Large slimes resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Poison: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
                <li>Disease: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
<li>Fire: <strong class="resist-value" data-resist-value="1.10">1.10x</strong></li>
<hr class="resist-divider"/><li>Cold: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Electric: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Acid: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Beast</div>
              <img
                src="images/obsidian-leviathons.gif"
                alt="Obsidian Leviathons resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Cold: <strong class="resist-value" data-resist-value="1.10">1.10x</strong></li>
                <li>Acid: <strong class="resist-value" data-resist-value="1.10">1.10x</strong></li>
<li>Disease: <strong class="resist-value" data-resist-value="1.10">1.10x</strong></li>
<hr class="resist-divider"/><li>Poison: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Fire: <strong class="resist-value" data-resist-value="0.90">0.90x</strong></li>
<li>Electric: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Undead</div>
              <img
                src="images/anubis.gif"
                alt="Anubis resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Fire: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
                <li>Electric: <strong class="resist-value" data-resist-value="1.15">1.15x</strong></li>
<hr class="resist-divider"/><li>Cold: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Acid: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
<li>Poison: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Demon</div>
              <img
                src="images/balrons.gif"
                alt="Balrons resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Cold: <strong class="resist-value" data-resist-value="1.30">1.30x</strong></li>
<li>Electric: <strong class="resist-value" data-resist-value="1.15">1.15x</strong></li>
<hr class="resist-divider"/><li>Acid: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Poison: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Fire: <strong class="resist-value" data-resist-value="0.70">0.70x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Fire Beast</div>
              <img
                src="images/juggernaut.gif"
                alt="Juggernaut resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
                <li>Cold: <strong class="resist-value" data-resist-value="1.30">1.30x</strong></li>
                <hr class="resist-divider" />
                <li>Electric: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
                <li>Acid: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
                <li>Poison: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
                <li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
                <hr class="resist-divider" />
                <li>Fire: <strong class="resist-value" data-resist-value="0.70">0.70x</strong></li>
              </ul>
            </section>
            <section class="stat-card">
              <div class="stat-label">Ice Beast</div>
              <img
                src="images/master_of_frost.gif"
                alt="Master of Frost resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
<li>Fire: <strong class="resist-value" data-resist-value="1.30">1.30x</strong></li>
<li>Acid: <strong class="resist-value" data-resist-value="1.20">1.20x</strong></li>
<hr class="resist-divider"/><li>Electric: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Poison: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Cold: <strong class="resist-value" data-resist-value="0.70">0.70x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Electric Beast</div>
              <img
                src="images/banished_warden.gif"
                alt="Banished Warden resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
<li>Acid: <strong class="resist-value" data-resist-value="1.30">1.30x</strong></li>
<li>Cold: <strong class="resist-value" data-resist-value="1.15">1.15x</strong></li>
<hr class="resist-divider"/><li>Fire: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Poison: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Electric: <strong class="resist-value" data-resist-value="0.70">0.70x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Poison Beast</div>
              <img
                src="images/nycadaemon.gif"
                alt="Nycadaemon resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
<li>Acid: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
<li>Fire: <strong class="resist-value" data-resist-value="1.20">1.20x</strong></li>
<hr class="resist-divider"/><li>Cold: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Electric: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Disease: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Poison: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
</ul>
</section>
            <section class="stat-card">
              <div class="stat-label">Disease Beast</div>
              <img
                src="images/dune_lord.gif"
                alt="Dune Lord resistance indicator"
                width="32"
                height="32"
                class="resistance-icon"
              />
              <ul>
<li>Fire: <strong class="resist-value" data-resist-value="1.25">1.25x</strong></li>
<li>Electric: <strong class="resist-value" data-resist-value="1.10">1.10x</strong></li>
<hr class="resist-divider"/><li>Cold: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Acid: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li>
<li>Poison: <strong class="resist-value" data-resist-value="1.00">1.00x</strong></li><hr class="resist-divider"/>
<li>Disease: <strong class="resist-value" data-resist-value="0.80">0.80x</strong></li>
</ul>
</section>
</div>
</article>
</main>
</div>
<script>
  (function () {
    const ELEMENT_COLORS = {
      fire: "#ff5a5a",
      electric: "#b86bff",
      poison: "#2f7a2f",
      cold: "#7cc9ff",
      acid: "#b38b00",
      disease: "#ff9c42",
    };

    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll(".resist-value").forEach((node) => {
        const raw = node.getAttribute("data-resist-value") || node.textContent;
        const value = parseFloat(raw);
        if (Number.isNaN(value)) return;
        node.textContent = formatResistanceValue(value);
        node.style.color = getResistanceColor(value);
      });

      const listItems = document.querySelectorAll("#monster-resistances li");
      listItems.forEach((li) => {
        const strong = li.querySelector("strong");
        if (!strong) return;
        const rawText = (li.textContent || "").split(":")[0] || "";
        const elementName = rawText.trim();
        if (!elementName) return;
        const valueClone = strong.cloneNode(true);
        const label = document.createElement("span");
        label.className = "element-label";
        label.textContent = elementName;
        const color = ELEMENT_COLORS[elementName.toLowerCase()];
        if (color) label.style.color = color;

        li.innerHTML = "";
        li.appendChild(label);
        li.appendChild(valueClone);
      });
    });

    function getResistanceColor(value) {
      if (value > 1) {
        const ratio = Math.min((value - 1) / 0.3, 1);
        const lightness = 50 + 20 * ratio;
        const saturation = 65 + 15 * ratio;
        return `hsl(120, ${saturation}%, ${lightness}%)`;
      }
      if (value < 1) {
        const ratio = Math.min((1 - value) / 0.3, 1);
        const lightness = 55 + 25 * ratio;
        return `hsl(0, 80%, ${lightness}%)`;
      }
      return "#bbbbbb";
    }

    function formatResistanceValue(value) {
      if (Number.isInteger(value)) return `${value}x`;
      let text = value.toString();
      if (text.startsWith("0.")) {
        text = text.replace(/^0+/, "");
      } else if (text.startsWith("-0.")) {
        text = text.replace(/^-0+/, "-.");
      }
      text = text.replace(/(\.\d*?)0+$/, "$1"); // trim trailing zeros
      if (text.endsWith(".")) text = text.slice(0, -1);
      return `${text}x`;
    }
  })();
</script>
</body>
</html>
